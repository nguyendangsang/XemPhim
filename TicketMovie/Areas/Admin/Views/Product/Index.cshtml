@model IEnumerable<TicketMovie.Models.Product>

@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <button id="Add" class="btn btn-success">Tạo mới</button>
    <button id="gotoCategoryBtn" class="btn btn-success">Thể loại</button>
    <button id="Create" class="btn btn-success"> Showtime</button>

</p> 

<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Description)
            </th>
            <th>
                Image
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Category)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ShowTime)
            </th>
            <th>
                Action
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @item.Price.ToString("#,##0")
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Description)
                </td>
                <td>
                    <img src="@item.ImageUrl" style="width: 180px; height: 200px" />
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Category.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ShowTime)
                </td>
                <td>
                    <a id="updateLink" asp-action="Update" asp-route-id="@item.Id"><button class="btn btn-primary">Update</button></a> |
                    <a id="displayLink" asp-action="Display" asp-route-id="@item.Id"><button class="btn btn-warning">Details</button></a> |
                    <a id="deleteLink" asp-action="Delete" asp-route-id="@item.Id"><button class="btn btn-danger">Delete</button></a>
                </td>
            </tr>
        }
    </tbody>
</table>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script>
    document.getElementById('Add').addEventListener('click', function () {
        Swal.fire({
            title: 'Create New?',
            text: 'Bạn muốn thêm một sản phẩm mới vào hệ thống?',
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, create it!'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = '/Product/Add'; // Replace YourControllerName with your actual controller name
            }
        });
    });

    document.getElementById('gotoCategoryBtn').addEventListener('click', function () {
        Swal.fire({
            title: 'Go to Category Page?',
            text: 'Bạn muốn thêm một thể loại mới vào hệ thống?',
            icon: 'question',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, go there!'
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = '/Admin/Category/Index'; // Adjust the URL accordingly
            }
        });
    });
</script>
